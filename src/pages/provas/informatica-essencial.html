<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/public/css/main.css" />
    <title>Prova de Inform√°tica Essencial</title>
    <!-- CDN SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <div class="logo">
        <img src="/public/img/logo-praticamente.svg" alt="Logo do site Pratica-Mente" />
    </div>
    <div class="nav-menu">
        <h2 class="title-prova">Prova Final de Inform√°tica Essencial</h2>
    </div>

    <div class="container">
        <section class="content">
			<div class="card-question" data-question-id="1">
				<div class="box-question">
					<span class="question">
						1. Qual √© a principal fun√ß√£o do processador em um computador?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Armazenar dados de forma permanente
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							Controlar a exibi√ß√£o de v√≠deo na tela
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							<!-- Correto -->
							Processar as informa√ß√µes e executar os programas
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							Controlar a alimenta√ß√£o el√©trica do sistema
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="2">
				<div class="box-question">
					<span class="question">
						2. Qual dispositivo √© considerado uma unidade de armazenamento permanente em um computador?  
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Mem√≥ria RAM
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							Processador
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							<!-- Correto -->
							Disco r√≠gido (HD)
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>Disco Flex√≠vel Permanente</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="3">
				<div class="box-question">
					<span class="question">
						3. O que √© um software de sistema?  
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Programa que permite a cria√ß√£o de apresenta√ß√µes de slides
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							<!-- Correto -->
							Conjunto de programas que gerencia o hardware e recursos do sistema
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Aplicativo que cria gr√°ficos e anima√ß√µes
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							Software utilizado apenas para editar imagens
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="4">
				<div class="box-question">
					<span class="question">
						4. Qual √© a principal diferen√ßa entre a mem√≥ria RAM e o disco r√≠gido (HD)?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							A mem√≥ria RAM √© de armazenamento permanente, enquanto o HD √© tempor√°rio
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							A mem√≥ria RAM armazena dados de forma permanente, enquanto o HD armazena dados tempor√°rios
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							<!-- Correta -->
							A mem√≥ria RAM √© vol√°til, ou seja, perde os dados quando o computador √© desligado, enquanto o HD mant√©m os dados
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							O HD n√£o √© necess√°rio para o funcionamento do computador, enquanto a RAM √© essencial
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="5">
				<div class="box-question">
					<span class="question">
						5. Qual das alternativas abaixo descreve corretamente o papel da placa m√£e em um computador?  
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Controlar a velocidade de processamento do computador
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							<!-- Correto -->
							Conectar e interligar todos os componentes do computador, como o processador, mem√≥ria e dispositivos de entrada/sa√≠da
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Armazenar o sistema operacional
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							Exibir gr√°ficos na tela do monitor
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="6">
				<div class="box-question">
					<span class="question">
						6. Qual dispositivo de entrada permite ao usu√°rio interagir com o computador de forma direta, atrav√©s de movimento e cliques?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							<!-- Correto -->
							Mouse
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							Monitor
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Impressora
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							Teclado
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="7">
				<div class="box-question">
					<span class="question">
						7. Como voc√™ pode personalizar o plano de fundo da √Årea de Trabalho no Windows 10?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Atrav√©s do menu de configura√ß√µes da tela de bloqueio.
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							Mudando o plano de fundo diretamente pelo Gerenciador de Tarefas
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Alterando no menu de configura√ß√µes de som.
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							<!-- Correto -->
							Acessando a op√ß√£o "Personalizar" clicando com o bot√£o direito na √Årea de Trabalho.
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="8">
				<div class="box-question">
					<span class="question">
						8. O que a fun√ß√£o "Vis√£o de Tarefas" permite fazer no Windows 10?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Abrir e editar tarefas do dia a dia
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							<!-- Correto -->
							Criar e acessar m√∫ltiplas √Åreas de Trabalho.
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Modificar as configura√ß√µes de rede e internet.
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							Configurar as prefer√™ncias de privacidade do usu√°rio.
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="9">
				<div class="box-question">
					<span class="question">
						9. Como voc√™ pode organizar seus arquivos no Explorador de Arquivos do Windows 10?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							<!-- Correto -->
							Utilizando a barra de ferramentas para copiar e mover arquivos entre pastas.
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							Por meio do aplicativo de M√≠dia, como o Reprodutor Multim√≠dia.
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Atrav√©s das op√ß√µes de configura√ß√£o no menu Iniciar.
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							Modificando diretamente no painel de controle.
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="10">
				<div class="box-question">
					<span class="question">
						10. O Windows √© um hardware que controla todo o sistema do computador.
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Verdadeiro
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							<!-- Correto -->
							Falso
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="11">
				<div class="box-question">
					<span class="question">
						11. No Windows, como criar uma nova pasta?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Menu Iniciar > Novo > Nova pasta
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							√Årea de Trabalho > Configura√ß√µes
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Bot√£o esquerdo > Nova pasta
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							<!-- Correto -->
							Bot√£o direito do Mouse > Novo
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="12">
				<div class="box-question">
					<span class="question">
						12. Qual √© a principal fun√ß√£o da "Faixa de Op√ß√µes" no Word?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Inserir gr√°ficos
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							Visualizar documentos em diferentes modos de exibi√ß√£o
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Imprimir documentos diretamente do menu
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							<!-- Correto -->
							Organizar as ferramentas de edi√ß√£o em menus e submenus
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="13">
				<div class="box-question">
					<span class="question">
						13. Em qual guia voc√™ encontraria a op√ß√£o  "Gr√°fico" no Word?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							<!-- Correto -->
							Inserir
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							Revis√£o
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Design
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							Layout
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="14">
				<div class="box-question">
					<span class="question">
						14. Qual √© a vantagem de utilizar os Estilos no Word?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							<!-- Correto -->
							Aplicar uma formata√ß√£o consistente e r√°pida em todo o documento
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							Alterar o tamanho das imagens
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Aumentar a velocidade da digita√ß√£o
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							Facilitar a importa√ß√£o
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="15">
				<div class="box-question">
					<span class="question">
						15. O que voc√™ deve fazer antes de criar um sum√°rio no Word?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Inserir manualmente o texto do sum√°rio
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							<!-- Correto -->
							Definir os t√≠tulos e subt√≠tulos, usando os Estilos de t√≠tulo
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							Criar uma tabela e preencher com os t√≠tulos
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							Apagar todo o texto e inserir o sum√°rio antes
						</span>
					</div>
				</div>
			</div>
			<div class="card-question" data-question-id="16">
				<div class="box-question">
					<span class="question">
						16. Como voc√™ pode modificar a orienta√ß√£o de uma p√°gina no Word?
					</span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span>
							Utilizando a op√ß√£o ‚ÄúMargens‚Äù na guia Layout
						</span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span>
							Alterando o tipo de fonte
						</span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span>
							√â imposs√≠vel modificar a orienta√ß√£o de uma p√°gina no Word
						</span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span>
							<!-- Correto -->
							Clicando em "Layout" e escolhendo entre Retrato ou Paisagem
						</span>
					</div>
				</div>
			</div>
			<!-- <div class="card-question" data-question-id="">
				<div class="box-question">
					<span class="question"></span>
				</div>
				<div class="box-alternatives">
					<div class="alternative" data-alternative="A">
						<span class="alt-identifier">[A]</span>
						<span></span>
					</div>
					<div class="alternative" data-alternative="B">
						<span class="alt-identifier">[B]</span>
						<span></span>
					</div>
					<div class="alternative" data-alternative="C">
						<span class="alt-identifier">[C]</span>
						<span></span>
					</div>
					<div class="alternative" data-alternative="D">
						<span class="alt-identifier">[D]</span>
						<span></span>
					</div>
				</div>
			</div> -->
            <form class="form-prova" onsubmit="return false;">
                <div class="box-input">
                    <label for="cod">C√≥digo de Usu√°rio</label>
                    <input type="number" name="cod" id="cod" autocomplete="off" />
                </div>
                <div class="box-input">
                    <label for="nome">Nome Completo</label>
                    <input type="text" name="nome" id="nome" autocomplete="off" />
                </div>
            </form>
            <div class="card-question">
                <button id="btn-resultado" type="button" disabled>Ver Resultado</button>
            </div>
        </section>
    </div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
    import { getFirestore, collection, doc, getDoc, setDoc, getDocs } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-analytics.js";

    // Configura√ß√£o do Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyAAs7eEcbQstmReeMns3xTC531ZxQpXDTk",
        authDomain: "pratica-mente-e9b23.firebaseapp.com",
        projectId: "pratica-mente-e9b23",
        storageBucket: "pratica-mente-e9b23.firebasestorage.app",
        messagingSenderId: "1028599666989",
        appId: "1:1028599666989:web:6a3b8c83466c8e50901ba4",
        measurementId: "G-9R78EX5XSW"
    };

    // Inicializa Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    getAnalytics(app);

    // Pega gabarito do Firestore
    const docRef = doc(db, "informatica-essencial", "gabarito");
    const docSnap = await getDoc(docRef);

    let gabarito = {};
    if (docSnap.exists()) {
        gabarito = docSnap.data();
        console.log("Gabarito carregado:", gabarito);
    } else {
        console.error("Gabarito n√£o encontrado no Firestore!");
    }

    const respostasAluno = {};
    const totalQuestoes = Object.keys(gabarito).length;

    const btnResultado = document.getElementById("btn-resultado");

    // Criar √°rea de exibi√ß√£o do resultado (n√£o usado aqui porque ser√° no SweetAlert2)
    // const resultadoEl = document.createElement("div");
    // resultadoEl.classList.add("resultado");
    // resultadoEl.style.marginTop = "10px";
    // document.body.appendChild(resultadoEl);

    window.addEventListener("beforeunload", function (event) {
        event.preventDefault(); // Necess√°rio em alguns navegadores
        event.returnValue = ""; // Necess√°rio para acionar o aviso
    });

    function verificarTodasRespondidas() {
        if (Object.keys(respostasAluno).length === totalQuestoes) {
            btnResultado.disabled = false;
        }
    }

    // Captura cliques nas alternativas
    document.querySelectorAll('.card-question[data-question-id]').forEach((card) => {
        const alternatives = card.querySelectorAll('.alternative');

        alternatives.forEach((alt) => {
            alt.addEventListener('click', () => {
                alternatives.forEach(a => a.classList.remove('alternative-active'));

                alt.classList.add('alternative-active');

                const questionId = card.dataset.questionId;
                const selectedAlt = alt.dataset.alternative;
                respostasAluno[questionId] = selectedAlt;

                verificarTodasRespondidas();
            });
        });
    });

    // Clique no bot√£o ‚Üí mostra resultado + salva no Firestore (com verifica√ß√£o)
    btnResultado.addEventListener('click', async () => {
        const cod = document.getElementById("cod").value.trim();
        const nome = document.getElementById("nome").value.trim();

        if (!cod || !nome) {
            await Swal.fire({
                icon: 'warning',
                title: 'Campos faltando',
                text: 'Por favor, preencha o c√≥digo e o nome antes de ver o resultado.'
            });
            return;
        }

        const alunoRef = doc(db, "nota-de-alunos", cod);
        const alunoSnap = await getDoc(alunoRef);

        if (alunoSnap.exists()) {
            await Swal.fire({
                icon: 'info',
                title: 'Teste j√° realizado',
                text: 'Voc√™ j√° realizou este teste. Somente o professor Mateus pode liberar uma nova tentativa, e isso depende da solicita√ß√£o de outro professor. No entanto, a libera√ß√£o n√£o ser√° imediata.'
            });
            return;
        }

        let acertos = 0;

        document.querySelectorAll('.card-question[data-question-id]').forEach((card) => {
            const questionId = card.dataset.questionId;
            const alternativas = card.querySelectorAll('.alternative');

            alternativas.forEach((alt) => {
                const altId = alt.dataset.alternative;

                if (altId === gabarito[questionId]) {
                    alt.style.backgroundColor = "#4CAF50";
                    alt.style.color = "#fff";
                } else if (respostasAluno[questionId] === altId && altId !== gabarito[questionId]) {
                    alt.style.backgroundColor = "#f44336";
                    alt.style.color = "#fff";
                } else {
                    alt.style.backgroundColor = "";
                    alt.style.color = "";
                }
            });

            if (respostasAluno[questionId] === gabarito[questionId]) {
                acertos++;
            }
        });

        const percentual = (acertos / totalQuestoes) * 100;
        let mensagem = "";

        if (percentual >= 50) {
            mensagem = `Parab√©ns, ${nome}! Voc√™ acertou ${acertos} de ${totalQuestoes} quest√µes (${percentual.toFixed(2)}%). Continue assim! üéâ`;
        } else {
            mensagem = `N√£o desanime, ${nome}. Voc√™ acertou ${acertos} de ${totalQuestoes} quest√µes (${percentual.toFixed(2)}%). Estude um pouco mais e voc√™ vai melhorar! üí™`;
        }

        await Swal.fire({
            icon: percentual >= 50 ? 'success' : 'warning',
            title: 'Resultado da Prova',
            text: mensagem
        });

        try {
            await setDoc(alunoRef, {
                nome: nome,
                nota: percentual.toFixed(2),
                acertos: acertos
            });
            console.log("Nota salva com sucesso!");
        } catch (error) {
            console.error("Erro ao salvar nota:", error);
        }
    });
</script>
</body>
</html>
